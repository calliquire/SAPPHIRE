---
title: "data_cleaning_2"
author: "calliquire"
date: "2024-10-03"
output: workflowr::wflow_html
editor_options:
  chunk_output_type: console
---

**About:** This is the second iteration of data cleaning that must be done after data_cleaning_1. Here, I clean the screening_long long-form dataset to have columns for body_site and reflectance_type (as well as collection_period, which was done in data_cleaning_1).

## Set Up

1. Load the relevant packages.
```{r}
library(tidyr)
```

2. Load the data.
```{r}
data <- read.csv("data/screening_long.csv")
```

3. View the first few rows.
```{r}
head(data)
```

4. Reshaping the data to include each reflectance value in its own row, with separate columns for body site and reflectance type. This will create a long format dataset with two new columns:
-   Measurement: Contains the original column names (e.g., skin_reflectance_forehead_M1).
-   Reflectance: Contains the reflectance values.
```{r}
data_long <- pivot_longer(data, 
                          cols = starts_with("skin_reflectance"), 
                          names_to = "measurement", 
                          values_to = "reflectance")
```

5. Separate the measurement column into body_site and reflectance_type.
```{r}
data_long <- separate(data_long, 
                      col = "measurement", 
                      into = c("Prefix", "body_site", "reflectance_type"), 
                      sep = "_", 
                      extra = "drop")
```

